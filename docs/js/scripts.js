const products=[{id:1,category:"Рушники",imgMain:"img/rushniki/1/rushnik.jpg",img:["img/rushniki/1/rushnik.jpg","img/rushniki/1/rushnik_2.jpg","img/rushniki/1/rushnik_3.jpg","img/rushniki/1/rushnik_4.jpg","img/rushniki/1/rushnik_5.jpg"],title:"Махрові рушники. Натуралка, люкс котон 100%.",pack:!0,size:{size1:{s:"70X140",inPack:6,packSize:6,salePack:3,price:330,salePrice:310},size2:{s:"50X90",inPack:6,packSize:6,salePack:3,price:170,salePrice:160}}},{id:2,category:"Пледи",imgMain:"img/pledy/1/pled_haski.webp",img:[],title:'Іграшка з пледиком всередині "Хаскі"',pack:!0,size:{size1:{s:"110X150",inPack:1,packSize:1,salePack:4,price:450,salePrice:370}}},{id:3,category:"Постільна білизна",imgMain:"img/postil/1/postil.jpg",img:["img/postil/1/postil.jpg","img/postil/1/postil_1.jpg","img/postil/1/postil_2.jpg","img/postil/1/postil_3.jpg","img/postil/1/postil_4.jpg","img/postil/1/postil_5.jpg"],title:"Покривала +2 наволочки. 2 слоя тканини, хб",pack:!0,size:{size1:{s:"Покривало 200 на 230. Наволочки 50 на 70 (2шт).",inPack:1,packSize:1,salePack:6,price:690,salePrice:550}}},{id:4,category:"Покривала",imgMain:"img/pokrivalo/1/pokrivalo.jpg",img:["img/pokrivalo/1/pokrivalo.jpg","img/pokrivalo/1/pokrivalo_1.jpg","img/pokrivalo/1/pokrivalo_2.jpg","img/pokrivalo/1/pokrivalo_3.jpg","img/pokrivalo/1/pokrivalo_4.jpg","img/pokrivalo/1/pokrivalo_5.jpg"],title:"Покривала фібра 'іній'. М'якенькі, пухкенькі, приємні на дотик.",pack:!0,size:{size1:{s:"180X200",inPack:6,packSize:1,salePack:10,price:245,salePrice:235}}},{id:5,category:"Рушники",imgMain:"img/rushniki/2/rushnik.jpg",img:["img/rushniki/2/rushnik.jpg","img/rushniki/2/rushnik_2.jpg","img/rushniki/2/rushnik_1.jpg"],title:"Махрові білі рушники. Натуральний котон, чудова якість.",pack:!0,size:{size1:{s:"70X140",inPack:6,packSize:6,salePack:3,price:220,salePrice:200},size2:{s:"50X90",inPack:6,packSize:6,salePack:3,price:115,salePrice:105}}},{id:6,category:"Постільна білизна",imgMain:"img/postil/2/postil.jpg",img:["img/postil/2/postil.jpg","img/postil/2/postil_1.jpg","img/postil/2/postil_2.jpg","img/postil/2/postil_3.jpg","img/postil/2/postil_4.jpg","img/postil/2/postil_5.jpg","img/postil/2/postil_6.jpg","img/postil/2/postil_7.jpg","img/postil/2/postil_8.jpg"],title:"Постільна білизна сатин з простирадлом на резинці.",pack:!0,size:{size1:{s:"200*220 підковдра. 180*200 (+25 бока) простирадло на резинці. 50*70 наволочки(2 шт).",inPack:1,packSize:1,salePack:3,price:990,salePrice:850}}},{id:7,category:"Рушники",imgMain:"img/rushniki/3/rushnik.webp",img:[],title:"Рушники лицьові фібра.",pack:!0,size:{size1:{s:"50X90",inPack:8,packSize:8,salePack:3,price:70,salePrice:65}}},{id:8,category:"Пледи",imgMain:"img/pledy/2/pled.webp",img:[],title:'Іграшка з пледиком всередині "Їжачок".',pack:!0,size:{size1:{s:"110X150",inPack:1,packSize:1,salePack:4,price:450,salePrice:370}}},{id:9,category:"Рушники",imgMain:"img/rushniki/4/rushnik.webp",img:[],title:"Кухонні рушники фібра.",pack:!0,size:{size1:{s:"25X50",inPack:20,packSize:20,salePack:5,price:12,salePrice:10}}},{id:10,category:"Постільна білизна",imgMain:"img/postil/3/postil.jpg",img:["img/postil/3/postil.jpg","img/postil/3/postil_1.jpg","img/postil/3/postil_2.jpg","img/postil/3/postil_3.jpg","img/postil/3/postil_4.jpg","img/postil/3/postil_5.jpg"],title:"Постільна білизна сатин жатка.",pack:!0,size:{size1:{s:"Підковдра 200 на 220. Простирадло 220 на 240. Наволочки 50 на 70 (2шт)",inPack:1,packSize:1,salePack:3,price:1150,salePrice:1e3}}},{id:11,category:"Рушники",imgMain:"img/rushniki/5/rushniki.webp",img:[],title:"Рушники махрові.",pack:!0,size:{size1:{s:"70X140",inPack:8,packSize:8,salePack:3,price:160,salePrice:150},size2:{s:"50X90",inPack:8,packSize:8,salePack:3,price:80,salePrice:75}}},{id:12,category:"Рушники",imgMain:"img/rushniki/6/rushnik.webp",img:[],title:'Рушники фібра, модель "лаванда".',pack:!0,size:{size1:{s:"35X70",inPack:5,packSize:5,salePack:10,price:50,salePrice:40}}},{id:12,category:"Рушники",imgMain:"img/rushniki/7/rushnik.webp",img:[],title:"Рушники махра.",pack:!0,size:{size1:{s:"35X70",inPack:12,packSize:12,salePack:6,price:65,salePrice:60}}},{id:13,category:"Рушники",imgMain:"img/rushniki/8/rushnik.jpg",img:["img/rushniki/8/rushnik.jpg","img/rushniki/8/rushnik_1.jpg","img/rushniki/8/rushnik_2.jpg","img/rushniki/8/rushnik_3.jpg"],title:"Рушники льняні.",pack:!0,size:{size1:{s:"35X70",inPack:50,packSize:1,salePack:100,price:27,salePrice:25}}},{id:14,category:"Пледи",imgMain:"img/pledy/3/pled.webp",img:[],title:"Плєд-ковдра з узором, лазерна стрижка.",pack:!0,size:{size1:{s:"200X230",inPack:1,packSize:1,salePack:3,price:1150,salePrice:900}}},{id:15,category:"Рушники",imgMain:"img/rushniki/9/rushnik.jpg",img:["img/rushniki/9/rushnik.jpg","img/rushniki/9/rushnik_1.jpg","img/rushniki/9/rushnik_2.jpg","img/rushniki/9/rushnik_3.jpg","img/rushniki/9/rushnik_4.jpg","img/rushniki/9/rushnik_5.jpg","img/rushniki/9/rushnik_6.jpg"],title:"Подарункові набори рушників +скатертина.",pack:!0,size:{size1:{s:"Рушники 35 на 75 + скатертина 110 на 150 + подарункова коробка",inPack:6,packSize:6,salePack:0,price:580,salePrice:580},size2:{s:"Рушники 35 на 75 + скатертина 150 на 180 + подарункова коробка",inPack:6,packSize:6,salePack:0,price:690,salePrice:690},size3:{s:"Рушники 35 на 75 + скатертина 150 на 220 + подарункова коробка",inPack:6,packSize:6,salePack:0,price:850,salePrice:850}}},{id:16,category:"Рушники",imgMain:"img/rushniki/10/rushnik.webp",img:[],title:"Махрові рушники.",pack:!0,size:{size1:{s:"50X90",inPack:6,packSize:6,salePack:3,price:90,salePrice:80},size2:{s:"70X140",inPack:6,packSize:6,salePack:3,price:180,salePrice:170}}},{id:17,category:"Рушники",imgMain:"img/rushniki/11/servetka.webp",img:["img/rushniki/11/servetka.webp","img/rushniki/11/servetka_1.jpg","img/rushniki/11/servetka_2.jpg","img/rushniki/11/servetka_3.jpg"],title:"Серветки фібра.",pack:!0,size:{size1:{s:"30X30",inPack:20,packSize:20,salePack:5,price:12,salePrice:10}}},{id:18,category:"Рушники",imgMain:"img/rushniki/12/rushnik.jpg",img:["img/rushniki/12/rushnik.jpg","img/rushniki/12/rushnik_1.jpg","img/rushniki/12/rushnik_2.jpg"],title:"Рушники лицьові фібра.многим",pack:!0,size:{size1:{s:"50X90",inPack:6,packSize:6,salePack:5,price:50,salePrice:47}}},{id:19,category:"Покривала",imgMain:"img/pokrivalo/2/kovdra.jpg",img:["img/pokrivalo/2/kovdra.jpg","img/pokrivalo/2/kovdra_1.jpg","img/pokrivalo/2/kovdra_2.jpg","img/pokrivalo/2/kovdra_3.jpg","img/pokrivalo/2/kovdra_4.jpg","img/pokrivalo/2/kovdra_5.jpg"],title:'Охолоджуюча шовкова ковдра "Холодок".',pack:!0,size:{size1:{s:"150X200",inPack:1,packSize:1,salePack:3,price:850,salePrice:740},size2:{s:"200X230",inPack:1,packSize:1,salePack:3,price:1200,salePrice:980}}},{id:20,category:"Рушники",imgMain:"img/rushniki/13/rushnik_1.jpg",img:["img/rushniki/13/rushnik.webp","img/rushniki/13/rushnik_1.jpg","img/rushniki/13/rushnik_2.jpg","img/rushniki/13/rushnik_3.jpg","img/rushniki/13/rushnik_4.jpg","img/rushniki/13/rushnik_5.jpg","img/rushniki/13/rushnik_6.jpg","img/rushniki/13/rushnik_7.jpg","img/rushniki/13/rushnik_8.jpg","img/rushniki/13/rushnik_9.jpg"],title:"Кухонні рушники фібра.",pack:!0,size:{size1:{s:"35X70",inPack:5,packSize:5,salePack:10,price:50,salePrice:40}}},{id:21,category:"Рушники",imgMain:"img/rushniki/14/rushnik.webp",img:[],title:"Рушники махрові.",pack:!0,size:{size1:{s:"35X70",inPack:12,packSize:12,salePack:5,price:50,salePrice:45},size2:{s:"50X90",inPack:8,packSize:8,salePack:3,price:80,salePrice:75},size1:{s:"70X140",inPack:8,packSize:8,salePack:3,price:160,salePrice:150}}},{id:22,category:"Пледи",imgMain:"img/pledy/4/pled_mramor.jpg",img:["img/pledy/4/pled_mramor_1.jpg","img/pledy/4/pled_mramor_2.jpg","img/pledy/4/pled_mramor_3.jpg","img/pledy/4/pled_mramor_4.jpg","img/pledy/4/pled_mramor_5.jpg","img/pledy/4/pled_mramor_6.jpg","img/pledy/4/pled_mramor_7.jpg","img/pledy/4/pled_mramor_8.jpg","img/pledy/4/pled_mramor_9.jpg"],title:"Плед-покривало «мрамор».",pack:!0,size:{size1:{s:"200X230",inPack:1,packSize:1,salePack:3,price:670,salePrice:550}}},{id:23,category:"Рушники",imgMain:"img/rushniki/15/rushnik.webp",img:[],title:"Кухонні рушники фібра.",pack:!0,size:{size1:{s:"25X50",inPack:20,packSize:20,salePack:5,price:16,salePrice:15}}},{id:24,category:"Пледи",imgMain:"img/pledy/5/pled.jpg",img:["img/pledy/5/pled_1.jpg","img/pledy/5/pled_2.jpg","img/pledy/5/pled_3.jpg","img/pledy/5/pled_4.jpg","img/pledy/5/pled_5.jpg","img/pledy/5/pled_6.jpg","img/pledy/5/pled_7.jpg"],title:"Плед покривало «кролік»",pack:!0,size:{size1:{s:"200X220",inPack:1,packSize:1,salePack:3,price:670,salePrice:550}}},{id:25,category:"Рушники",imgMain:"img/rushniki/16/rushnik.webp",img:[],title:"Кухонні рушники фібра.",pack:!0,size:{size1:{s:"35X70",inPack:12,packSize:12,salePack:5,price:50,salePrice:45}}},{id:26,category:"Покривала",imgMain:"img/pokrivalo/3/pokrivalo_kids.jpg",img:["img/pokrivalo/3/pokrivalo_kids.jpg","img/pokrivalo/3/pokrivalo_kids_1.jpg","img/pokrivalo/3/pokrivalo_kids_2.jpg","img/pokrivalo/3/pokrivalo_kids_3.jpg","img/pokrivalo/3/pokrivalo_kids_4.jpg","img/pokrivalo/3/pokrivalo_kids_5.jpg","img/pokrivalo/3/pokrivalo_kids_6.jpg"],title:"Покривало дитяче.",pack:!0,size:{size1:{s:"120X150",inPack:1,packSize:1,salePack:5,price:590,salePrice:450}}},{id:27,category:"Рушники",imgMain:"img/rushniki/17/rushnik.jpg",img:["img/rushniki/17/rushnik.jpg","img/rushniki/17/rushnik_1.jpg"],title:"Рушники фібра.",pack:!0,size:{size1:{s:"35X70",inPack:12,packSize:12,salePack:10,price:45,salePrice:40}}},{id:28,category:"Постільна білизна",imgMain:"img/postil/4/postil_4.jpg",img:["img/postil/4/postil.jpg","img/postil/4/postil_1.jpg","img/postil/4/postil_2.jpg","img/postil/4/postil_3.jpg","img/postil/4/postil_4.jpg","img/postil/4/postil_5.jpg","img/postil/4/postil_6.jpg","img/postil/4/postil_7.jpg","img/postil/4/postil_8.jpg"],title:'Постільна білизна "шарпей".',pack:!0,size:{size1:{s:"Підковдра 200 на 230. Простирадло 230 на 240. Наволочки 50 на 70 (2шт).",inPack:1,packSize:1,salePack:3,price:1650,salePrice:1520}}},{id:29,category:"Рушники",imgMain:"img/rushniki/18/rushnik.jpg",img:["img/rushniki/18/rushnik.jpg","img/rushniki/18/rushnik_1.jpg"],title:"Рушник фібра,який одним рухом перетворюється на халатик.",pack:!1,size:{size1:{s:"70X140",inPack:3,packSize:1,salePack:10,price:170,salePrice:150}}},{id:30,category:"Пледи",imgMain:"img/pledy/6/pled_kids.jpg",img:["img/pledy/6/pled_kids.jpg","img/pledy/6/pled_kids_1.jpg"],title:"Пледик дитячий.",pack:!1,size:{size1:{s:"110X110",inPack:5,packSize:1,salePack:10,price:200,salePrice:180}}},{id:31,category:"Покривала",imgMain:"img/pokrivalo/4/pokrivalo.jpg",img:["img/pokrivalo/4/pokrivalo.jpg","img/pokrivalo/4/pokrivalo_1.jpg"],title:"Покривало муслін.",size:{size1:{s:"200X220",inPack:3,packSize:1,salePack:3,price:820,salePrice:750}}},{id:32,category:"Рушники",imgMain:"img/rushniki/19/rushnik.webp",img:[],title:"Махрові рушники.",size:{size1:{s:"70X140",inPack:6,packSize:6,salePack:3,price:170,salePrice:160},size2:{s:"50X90",inPack:6,packSize:6,salePack:3,price:85,salePrice:80}}},{id:32,category:"Покривала",imgMain:"img/pokrivalo/5/pokrivalo.jpg",img:["img/pokrivalo/5/pokrivalo.jpg","img/pokrivalo/5/pokrivalo_1.jpg"],title:"Плед-покривало фібра однотонка, з гарним стриженим малюнком.",size:{size1:{s:"200X220",inPack:6,packSize:1,salePack:10,price:400,salePrice:380}}}];
function groupByCategory(e){return e.reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{})}function renderProductCard(e,t){const n=Object.keys(e.size)[0],r=Object.entries(e.size).map((([e,n],r)=>`\n        <label class="size-label">\n            <input \n                type="radio" \n                name="size-${t}" \n                value="${e}" \n                ${0===r?"checked":""}\n            >\n            <span class="label-span">\n                ${n.s}\n                <span class="label_in_pack">${n.inPack} шт в упаковці</span>\n            </span>\n        </label>\n    `)).join(""),c=e.size[n];return console.log(c),`\n        <figure class="product-card" data-id="${e.id}" data-size="${n}">\n            <figcaption>\n                <img src="${e.imgMain}" alt="${e.title}" class="main-img">\n                <div class="grid img_container">\n                    ${e.img.map(((t,n)=>`\n                        <picture class="img-wrapper">\n                            <img src="${t}" class="small_img" alt="${e.title}">\n                            <span class="img-index">${n+1}</span>\n                        </picture>\n                    `)).join("")}\n                </div>\n                <h3>${e.title}</h3>\n                <p class="price">\n                    <span class="price-value">${c.price} грн </span><span>(ціна за 1шт)</span>\n                </p>\n                <div class="sizes">${r}</div>\n                <p class="min_count_text">мінімальна кількість для замовлення - <span class="pack-count">${c.inPack}</span> шт</p>\n                <div class="grid col-2">\n                    <div class="quantity-controls grid items-center">\n                        <button class="decrease">-</button>\n                        <span class="quantity flex items-center">${c.inPack}</span>\n                        <button class="increase">+</button>\n                    </div>\n                    <button class="add-to-cart flex items-center">\n                        в кошик\n                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">\n                            <path d="M24.05 6.9752H23.55L19.325 2.7502C18.9875 2.4127 18.4375 2.4127 18.0875 2.7502C17.75 3.0877 17.75 3.6377 18.0875 3.9877L21.075 6.9752H8.925L11.9125 3.9877C12.25 3.6502 12.25 3.1002 11.9125 2.7502C11.575 2.4127 11.025 2.4127 10.675 2.7502L6.4625 6.9752H5.9625C4.8375 6.9752 2.5 6.9752 2.5 10.1752C2.5 11.3877 2.75 12.1877 3.275 12.7127C3.575 13.0252 3.9375 13.1877 4.325 13.2752C4.6875 13.3627 5.075 13.3752 5.45 13.3752H24.55C24.9375 13.3752 25.3 13.3502 25.65 13.2752C26.7 13.0252 27.5 12.2752 27.5 10.1752C27.5 6.9752 25.1625 6.9752 24.05 6.9752Z" fill="#1E1E1E"/>\n                            <path d="M23.8126 15H6.08757C5.31257 15 4.72507 15.6875 4.85007 16.45L5.90007 22.875C6.25007 25.025 7.18757 27.5 11.3501 27.5H18.3626C22.5751 27.5 23.3251 25.3875 23.7751 23.025L25.0376 16.4875C25.1876 15.7125 24.6001 15 23.8126 15ZM13.2626 23.0625C13.2626 23.55 12.8751 23.9375 12.4001 23.9375C11.9126 23.9375 11.5251 23.55 11.5251 23.0625V18.9375C11.5251 18.4625 11.9126 18.0625 12.4001 18.0625C12.8751 18.0625 13.2626 18.4625 13.2626 18.9375V23.0625ZM18.6126 23.0625C18.6126 23.55 18.2251 23.9375 17.7376 23.9375C17.2626 23.9375 16.8626 23.55 16.8626 23.0625V18.9375C16.8626 18.4625 17.2626 18.0625 17.7376 18.0625C18.2251 18.0625 18.6126 18.4625 18.6126 18.9375V23.0625Z" fill="#1E1E1E"/>\n                        </svg>\n                    </button>\n                </div>\n            </figcaption>\n        </figure>\n    `}function initProductCards(e){document.querySelectorAll(".product-card").forEach((t=>{const n=parseInt(t.dataset.id),r=e.find((e=>e.id===n));function c(){const e=t.querySelector('input[type="radio"]:checked').value;return r.size[e]}function a(){const e=c(),n=parseInt(t.querySelector(".quantity").textContent)/e.packSize>=e.salePack?e.salePrice:e.price;t.querySelector(".price-value").textContent=n+" грн "}t.querySelector(".add-to-cart").addEventListener("click",(()=>{const e=t.querySelector('input[type="radio"]:checked').value,n=r.size[e],c=parseInt(t.querySelector(".quantity").textContent),a=c/n.packSize>=n.salePack?n.salePrice:n.price,o={id:r.id,title:r.title,size:n.s,inPack:n.inPack,packSize:n.packSize,quantity:c,pricePerItem:a,total:c*a,img:r.imgMain};let s=JSON.parse(localStorage.getItem("cart"))||[];const l=s.findIndex((e=>e.id===o.id&&e.size===o.size));-1!==l?(s[l].quantity+=o.quantity,s[l].total+=o.total):s.push(o),localStorage.setItem("cart",JSON.stringify(s)),openCart()})),t.querySelectorAll('input[type="radio"]').forEach((e=>{e.addEventListener("change",(()=>{const e=c();t.querySelector(".quantity").textContent=e.packSize,a()}))}));const o=t.querySelector(".decrease"),s=t.querySelector(".increase"),l=t.querySelector(".quantity");o.addEventListener("click",(()=>{const e=c();let t=parseInt(l.textContent);t>e.inPack&&(t-=e.packSize,l.textContent=t,a())})),s.addEventListener("click",(()=>{const e=c();let t=parseInt(l.textContent);t+=e.packSize,l.textContent=t,a()}))}))}let productsPerPage=12;function renderPage(){displayProducts(products.slice(0,productsPerPage));const e=document.querySelector("#show-more-btn-prod");products.length>productsPerPage?e.style.display="flex":e.style.display="none"}function displayProducts(e){document.querySelector(".product-container").innerHTML=e.map(renderProductCard).join(""),initProductCards(e);const t=document.querySelectorAll(".product-card"),n=document.querySelector(".popup_img");t.forEach((e=>{const t=e.querySelector(".main-img");e.querySelectorAll(".small_img").forEach((e=>{e.addEventListener("click",(function(){t.src=this.src}))})),t.addEventListener("click",(function(){n.style.display="block",darkBg.style.display="block",n.querySelector("img").src=t.src}))}))}function renderCategoryFilters(e){document.getElementById("category-filters").innerHTML=["Пледи","Покривала","Рушники","Постільна білизна"].map((e=>`\n        <button class="category-btn transparent_cta ${"Пледи"===e?"active":""}" data-category="${e}">\n            ${e}\n        </button>\n    `)).join(""),document.querySelectorAll(".category-btn").forEach((t=>{t.addEventListener("click",(n=>{n.preventDefault();const r=t.dataset.category;document.querySelectorAll(".category-btn").forEach((e=>e.classList.remove("active"))),t.classList.add("active"),currentPage=1;const c=e.filter((e=>e.category===r));displayProducts(c.slice(0,productsPerPage));const a=document.querySelector("#show-more-btn-prod");c.length>productsPerPage?(a.style.display="flex",a.onclick=e=>{e.preventDefault(),currentPage++,displayProducts(c.slice(0,productsPerPage*currentPage)),c.length<=productsPerPage*currentPage&&(a.style.display="none")}):a.style.display="none"}))}));const t=e.filter((e=>"Пледи"===e.category));displayProducts(t.slice(0,productsPerPage));const n=document.querySelector("#show-more-btn-prod");t.length>productsPerPage?(n.style.display="flex",n.onclick=()=>{currentPage++,displayProducts(t.slice(0,productsPerPage*currentPage)),t.length<=productsPerPage*currentPage&&(n.style.display="none")}):n.style.display="none"}document.addEventListener("DOMContentLoaded",(()=>{renderCategoryFilters(products);document.querySelector("#show-more-btn-prod").addEventListener("click",(e=>{e.preventDefault(),currentPage++,renderPage()}))}));const cartPopup=document.querySelector(".cart_popup"),darkBg=document.querySelector(".dark-bgc"),cartContainer=document.querySelector(".cart_container"),errorCart=document.querySelector(".error_cart"),cartBtn=document.querySelector(".cart"),deleteCta=document.querySelector(".delete_cta"),cancelCart=document.querySelector(".cancel_cart"),orderCancel=document.querySelector(".cancel_order"),imgPopupCancel=document.querySelector(".cancel_img"),backOrderCataloge=document.querySelector(".back_catalogue_order"),orderContainer=document.querySelector(".order_container"),popupImg=document.querySelector(".popup_img");function cancelPopup(){cartPopup.style.display="none",darkBg.style.display="none",orderContainer.style.display="none",popupImg.style.display="none"}function renderCartItems(){const e=document.querySelector(".cart_container");e.innerHTML="";const t=JSON.parse(localStorage.getItem("cart"))||[];if(0===t.length)return e.style.display="none",void(errorCart.style.display="flex");errorCart.style.display="none",e.style.display="block",t.forEach((t=>{console.log(t.total);const n=`\n            <div class="cart-container grid items-center" data-id="${t.id}" data-size="${t.size}"><img src="${t.img}" alt="${t.title}" /><div class="cart-details"><h4>${t.title}</h4><p>Розмір: ${t.size} см</p><span class="label_in_pack">${t.inPack} шт в упаковці</span></div><div class="quantity-controls grid items-center"><button class="decrease-qty">-</button><span class="quantity flex items-center">${t.quantity}</span><button class="increase-qty">+</button></div><p class="cart-price">${t.total.toFixed(0)} грн</p><a class="delete_cta" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M11 1.00004L1 11M0.999958 1L10.9999 11" stroke="#1E1E1E" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div>\n        `;e.insertAdjacentHTML("beforeend",n)}));const n=`\n            <div class="cart-total">\n                <h3>до сплати: <span>${t.reduce(((e,t)=>e+t.total),0).toFixed(0)}грн</span></h3>\n            </div>\n        `;e.insertAdjacentHTML("beforeend",n),e.insertAdjacentHTML("beforeend",'\n        <div class="flex cart_cta">  \n            <a class="cta transparent_cta back_catalogue" href="#catalog">продовжити покупки</a>\n            <a class="cta catalog_cta get_order" href="#"> оформити замовлення</a>\n        </div>\n    '),addCartItemListeners();let r=document.querySelector(".get_order"),c=document.querySelector(".back_catalogue"),a=document.querySelector(".order_container");c.addEventListener("click",(function(e){cancelPopup()})),r.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",a.style.display="block"})),document.querySelector("#cartData").value=localStorage.getItem("cart")}function addCartItemListeners(){document.querySelectorAll(".increase-qty").forEach((e=>{e.addEventListener("click",(()=>{updateCartItemQty(e.closest(".cart-container"),1)}))})),document.querySelectorAll(".decrease-qty").forEach((e=>{e.addEventListener("click",(()=>{updateCartItemQty(e.closest(".cart-container"),-1)}))})),document.querySelectorAll(".delete_cta").forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".cart-container"),n=parseInt(t.dataset.id),r=t.dataset.size;let c=JSON.parse(localStorage.getItem("cart"))||[];c=c.filter((e=>!(e.id===n&&e.size===r))),localStorage.setItem("cart",JSON.stringify(c)),renderCartItems()}))}))}function updateCartItemQty(e,t){const n=parseInt(e.dataset.id),r=e.dataset.size;let c=JSON.parse(localStorage.getItem("cart"))||[];const a=c.findIndex((e=>e.id===n&&e.size===r));if(-1===a)return;const o=products.find((e=>e.id===n));if(!o)return;let s=Object.keys(o.size).find((e=>o.size[e].s===r));if(!s)return;const l=o.size[s],i=l.packSize;let d=c[a].quantity+t*i;d<l.inPack&&(d=l.inPack);const u=d/i>=l.salePack?l.salePrice:l.price;c[a].quantity=d,c[a].pricePerItem=u,c[a].total=d*u,localStorage.setItem("cart",JSON.stringify(c)),renderCartItems()}function openCart(){cartPopup.style.display="block",darkBg.style.display="block",renderCartItems(),document.querySelector("#cartData").value=localStorage.getItem("cart")}cartBtn.addEventListener("click",(function(e){e.preventDefault(),openCart()})),imgPopupCancel.addEventListener("click",(function(e){e.preventDefault(),cancelPopup()})),cancelCart.addEventListener("click",(function(e){e.preventDefault(),cancelPopup()})),darkBg.addEventListener("click",(function(e){e.preventDefault(),cancelPopup()})),deleteCta?.addEventListener("click",(function(e){e.preventDefault(),localStorage.removeItem("cart"),errorCart.style.display="flex",cartContainer.style.display="none"})),orderCancel.addEventListener("click",(function(e){e.preventDefault(),cancelPopup()})),backOrderCataloge.addEventListener("click",(function(e){e.preventDefault(),cancelPopup()}));
const reviews=[{src:"reviews_nikole_1",alt:"reviews_nikole_1"},{src:"reviews_nikole_2",alt:"reviews_nikole_2"},{src:"reviews_nikole_3",alt:"reviews_nikole_3"},{src:"reviews_nikole_4",alt:"reviews_nikole_4"},{src:"reviews_nikole_5",alt:"reviews_nikole_5"},{src:"reviews_nikole_6",alt:"reviews_nikole_6"},{src:"reviews_nikole_7",alt:"reviews_nikole_7"},{src:"reviews_nikole_8",alt:"reviews_nikole_8"},{src:"reviews_nikole_9",alt:"reviews_nikole_9"},{src:"reviews_nikole_10",alt:"reviews_nikole_10"},{src:"reviews_nikole_11",alt:"reviews_nikole_11"},{src:"reviews_nikole_12",alt:"reviews_nikole_12"},{src:"reviews_nikole_13",alt:"reviews_nikole_13"},{src:"reviews_nikole_14",alt:"reviews_nikole_14"},{src:"reviews_nikole_15",alt:"reviews_nikole_15"},{src:"reviews_nikole_16",alt:"reviews_nikole_16"},{src:"reviews_nikole_17",alt:"reviews_nikole_17"},{src:"reviews_nikole_18",alt:"reviews_nikole_18"},{src:"reviews_nikole_19",alt:"reviews_nikole_19"},{src:"reviews_nikole_20",alt:"reviews_nikole_20"},{src:"reviews_nikole_21",alt:"reviews_nikole_21"},{src:"reviews_nikole_22",alt:"reviews_nikole_22"},{src:"reviews_nikole_23",alt:"reviews_nikole_23"},{src:"reviews_nikole_24",alt:"reviews_nikole_24"},{src:"reviews_nikole_25",alt:"reviews_nikole_25"},{src:"reviews_nikole_26",alt:"reviews_nikole_26"},{src:"reviews_nikole_27",alt:"reviews_nikole_27"},{src:"reviews_nikole_28",alt:"reviews_nikole_28"},{src:"reviews_nikole_29",alt:"reviews_nikole_29"},{src:"reviews_nikole_30",alt:"reviews_nikole_30"},{src:"reviews_nikole_31",alt:"reviews_nikole_31"},{src:"reviews_nikole_32",alt:"reviews_nikole_32"},{src:"reviews_nikole_33",alt:"reviews_nikole_33"},{src:"reviews_nikole_34",alt:"reviews_nikole_34"},{src:"reviews_nikole_35",alt:"reviews_nikole_35"},{src:"reviews_nikole_36",alt:"reviews_nikole_36"},{src:"reviews_nikole_37",alt:"reviews_nikole_37"},{src:"reviews_nikole_38",alt:"reviews_nikole_38"},{src:"reviews_nikole_39",alt:"reviews_nikole_39"},{src:"reviews_nikole_40",alt:"reviews_nikole_40"},{src:"reviews_nikole_41",alt:"reviews_nikole_41"},{src:"reviews_nikole_42",alt:"reviews_nikole_42"},{src:"reviews_nikole_43",alt:"reviews_nikole_43"},{src:"reviews_nikole_44",alt:"reviews_nikole_44"},{src:"reviews_nikole_45",alt:"reviews_nikole_45"},{src:"reviews_nikole_46",alt:"reviews_nikole_46"},{src:"reviews_nikole_47",alt:"reviews_nikole_47"},{src:"reviews_nikole_48",alt:"reviews_nikole_48"},{src:"reviews_nikole_49",alt:"reviews_nikole_49"},{src:"reviews_nikole_50",alt:"reviews_nikole_50"},{src:"reviews_nikole_51",alt:"reviews_nikole_51"},{src:"reviews_nikole_52",alt:"reviews_nikole_52"},{src:"reviews_nikole_53",alt:"reviews_nikole_53"},{src:"reviews_nikole_54",alt:"reviews_nikole_54"},{src:"reviews_nikole_55",alt:"reviews_nikole_55"},{src:"reviews_nikole_56",alt:"reviews_nikole_56"},{src:"reviews_nikole_57",alt:"reviews_nikole_57"},{src:"reviews_nikole_58",alt:"reviews_nikole_58"},{src:"reviews_nikole_59",alt:"reviews_nikole_59"},{src:"reviews_nikole_60",alt:"reviews_nikole_60"},{src:"reviews_nikole_61",alt:"reviews_nikole_61"},{src:"reviews_nikole_62",alt:"reviews_nikole_62"},{src:"reviews_nikole_63",alt:"reviews_nikole_63"},{src:"reviews_nikole_64",alt:"reviews_nikole_64"},{src:"reviews_nikole_65",alt:"reviews_nikole_65"},{src:"reviews_nikole_66",alt:"reviews_nikole_66"},{src:"reviews_nikole_67",alt:"reviews_nikole_67"},{src:"reviews_nikole_68",alt:"reviews_nikole_68"},{src:"reviews_nikole_69",alt:"reviews_nikole_69"},{src:"reviews_nikole_70",alt:"reviews_nikole_70"},{src:"reviews_nikole_71",alt:"reviews_nikole_71"},{src:"reviews_nikole_72",alt:"reviews_nikole_72"},{src:"reviews_nikole_73",alt:"reviews_nikole_73"},{src:"reviews_nikole_74",alt:"reviews_nikole_74"},{src:"reviews_nikole_75",alt:"reviews_nikole_75"},{src:"reviews_nikole_76",alt:"reviews_nikole_76"},{src:"reviews_nikole_77",alt:"reviews_nikole_77"},{src:"reviews_nikole_78",alt:"reviews_nikole_78"},{src:"reviews_nikole_79",alt:"reviews_nikole_79"},{src:"reviews_nikole_80",alt:"reviews_nikole_80"},{src:"reviews_nikole_81",alt:"reviews_nikole_81"},{src:"reviews_nikole_82",alt:"reviews_nikole_82"},{src:"reviews_nikole_83",alt:"reviews_nikole_83"},{src:"reviews_nikole_84",alt:"reviews_nikole_84"},{src:"reviews_nikole_85",alt:"reviews_nikole_85"},{src:"reviews_nikole_86",alt:"reviews_nikole_86"},{src:"reviews_nikole_87",alt:"reviews_nikole_87"},{src:"reviews_nikole_88",alt:"reviews_nikole_88"},{src:"reviews_nikole_89",alt:"reviews_nikole_89"},{src:"reviews_nikole_90",alt:"reviews_nikole_90"},{src:"reviews_nikole_91",alt:"reviews_nikole_91"},{src:"reviews_nikole_92",alt:"reviews_nikole_92"},{src:"reviews_nikole_93",alt:"reviews_nikole_93"},{src:"reviews_nikole_94",alt:"reviews_nikole_94"},{src:"reviews_nikole_95",alt:"reviews_nikole_95"},{src:"reviews_nikole_96",alt:"reviews_nikole_96"},{src:"reviews_nikole_97",alt:"reviews_nikole_97"},{src:"reviews_nikole_98",alt:"reviews_nikole_98"},{src:"reviews_nikole_99",alt:"reviews_nikole_99"},{src:"reviews_nikole_100",alt:"reviews_nikole_100"},{src:"reviews_nikole_101",alt:"reviews_nikole_101"},{src:"reviews_nikole_102",alt:"reviews_nikole_102"},{src:"reviews_nikole_103",alt:"reviews_nikole_103"},{src:"reviews_nikole_104",alt:"reviews_nikole_104"},{src:"reviews_nikole_105",alt:"reviews_nikole_105"},{src:"reviews_nikole_106",alt:"reviews_nikole_106"},{src:"reviews_nikole_107",alt:"reviews_nikole_107"},{src:"reviews_nikole_108",alt:"reviews_nikole_108"},{src:"reviews_nikole_109",alt:"reviews_nikole_109"},{src:"reviews_nikole_110",alt:"reviews_nikole_110"},{src:"reviews_nikole_111",alt:"reviews_nikole_111"},{src:"reviews_nikole_112",alt:"reviews_nikole_112"},{src:"reviews_nikole_113",alt:"reviews_nikole_113"},{src:"reviews_nikole_114",alt:"reviews_nikole_114"}];
document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".dark-bgc"),t=document.querySelector(".dark-bgc-succes"),n=document.querySelector(".privacy_container"),i=document.querySelector(".privacy_container .cancel_popup"),c=(document.querySelectorAll("form"),document.querySelector("#successPopup")),l=document.querySelector(".cart_popup");if(i.addEventListener("click",(function(i){i.preventDefault(),n.style.display="none",c.style.display="none",e.style.display="none",t.style.display="none"})),document.querySelector(".slider-images")){const v=document.querySelectorAll(".slider-images img");let g=0;v.length>0&&v[0].classList.add("active"),setInterval((()=>{v.length>0&&(v[g].classList.remove("active"),g=(g+1)%v.length,v[g].classList.add("active"))}),3e3)}if(document.querySelector(".burger")){const f=document.querySelector(".burger"),E=document.querySelector(".nav"),S=document.querySelector(".cancel"),b=E.querySelectorAll("a");function s(){E.style.right="-100%",e.style.zIndex="6",e.style.display="none",n.style.display="none"}f.addEventListener("click",(function(){E.style.right="-10px",e.style.display="block",e.style.zIndex="2"})),b.forEach((e=>{e.addEventListener("click",s)})),S.addEventListener("click",(function(e){e.preventDefault(),s()})),e.addEventListener("click",s)}let o=0;function r(){const e=document.querySelector(".reviews_list");reviews.slice(o,o+12).forEach((t=>{const n=document.createElement("picture"),i=document.createElement("img");i.src=`img/reviews/${t.src}.jpg`,i.alt=`${t.alt}`,i.setAttribute("loading","lazy"),i.addEventListener("click",(function(){const e=document.querySelector(".popup_img");srcPopup=e.querySelector("img"),srcPopup.src=this.src,darkBg.style.display="block",e.style.display="block"})),n.appendChild(i),e.appendChild(n)})),o+=12,o>=reviews.length&&(document.querySelector("#show-more-btn").style.display="none")}document.querySelector("#show-more-btn").addEventListener("click",(function(e){e.preventDefault(),r()})),r();!function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(i){i.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active");const a=document.querySelectorAll(".nav a "),d=document.querySelectorAll(".description-more"),u=document.querySelectorAll(".menu_footer a");let y=null;function p(){d.forEach((e=>e.classList.remove("visible")))}function m(){a.forEach((e=>e.classList.remove("visible")))}function m(){u.forEach((e=>e.classList.remove("visible")))}a.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");p(),m();const i=document.getElementById(n);i&&(y&&y.previousElementSibling&&y.previousElementSibling.classList.remove("readmore-active"),i.classList.add("visible"),i.previousElementSibling&&i.previousElementSibling.classList.add("readmore-active"),y=i)}))})),u.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");p(),m();const i=document.getElementById(n);i&&(y&&y.previousElementSibling&&y.previousElementSibling.classList.remove("readmore-active"),i.classList.add("visible"),i.previousElementSibling&&i.previousElementSibling.classList.add("readmore-active"),y=i)}))})),p(),m(),c.style.transition="opacity 0.5s ease",c.style.opacity="0",c.style.zIndex="-1",t.style.transition="opacity 0.5s ease",t.style.opacity="0",document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((n=>{n.addEventListener("submit",(i=>{if(validateForm(n)){function s(){c.style.opacity="0",c.style.visibility="hidden",t.style.opacity="0",setTimeout((()=>{t.style.display="none",c.style.display="none"}),500)}popupSpivpracia.style.display="none",l.style.display="none",c.style.display="block",c.style.zIndex="10",e.style.display="none",t.style.display="block",setTimeout((()=>{c.style.opacity="1",c.style.visibility="visible",t.style.opacity="1"}),10),t.addEventListener("click",s);c.querySelector(".successPopup .cancel_popup").addEventListener("click",s)}}))}))}));
const form=document.querySelector("form[action='sendorder.php']"),phoneInput=form.querySelector("input[name='userPhone']"),nameInput=form.querySelector("input[name='userName']"),errorTel=document.querySelector(".error"),errorName=document.querySelector(".errorName"),maxLength=30,minLength=3;function isValidPhoneNumber(e){return/^\+380\d{9}$/.test(e)}phoneInput.addEventListener("focus",(function(){phoneInput.value.startsWith("+380")||(phoneInput.value="+380")})),phoneInput.addEventListener("input",(function(){let e=phoneInput.value.replace(/[^\d+]/g,"");e.startsWith("+380")||(e="+380"+e.slice(3)),e.length>13&&(e=e.slice(0,13)),phoneInput.value=e;isValidPhoneNumber(e)?(phoneInput.style.borderColor="green",phoneInput.style.color="#121212",errorTel.style.display="none"):(phoneInput.style.borderColor="#EB4242",phoneInput.style.color="#EB4242",errorTel.style.display="block")})),form.addEventListener("submit",(e=>{const r=phoneInput.value.trim(),n=nameInput.value.trim();let o=!0;!r||!isValidPhoneNumber(r)||r.length<13?(errorTel.style.display="block",phoneInput.style.borderColor="#EB4242",o=!1):(errorTel.style.display="none",phoneInput.style.borderColor="green"),n.length<3||n.length>30?(errorName.style.display="block",nameInput.style.borderColor="#EB4242",o=!1):(errorName.style.display="none",nameInput.style.borderColor="green"),o||e.preventDefault()}));